<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densitydpi=medium-dpi">
		<title>Jindo Mobile Component : {+data.alias+} </title>
		<link rel="stylesheet" type="text/css" href="../resource/css/common.css">
		<link type="text/css" rel="stylesheet" href="../resource/syntaxhighlighter/style/shCore.css"/>
		<link type="text/css" rel="stylesheet" href="../resource/syntaxhighlighter/style/shThemeEclipse.css"/>
		<script type="text/javascript" src="../resource/syntaxhighlighter/scripts/shCore.js"></script>
		<script type="text/javascript" src="../resource/syntaxhighlighter/scripts/shBrushCss.js"></script>
		<script type="text/javascript" src="../resource/syntaxhighlighter/scripts/shBrushDiff.js"></script>
		<script type="text/javascript" src="../resource/syntaxhighlighter/scripts/shBrushJScript.js"></script>
		<script type="text/javascript" src="../resource/syntaxhighlighter/scripts/shBrushPhp.js"></script>
		<script type="text/javascript" src="../resource/syntaxhighlighter/scripts/shBrushPlain.js"></script>
		<script type="text/javascript" src="../resource/syntaxhighlighter/scripts/shBrushXml.js"></script>
		<script src="../../external/jindo/latest/jindo.all.ns.js" charset="utf-8"></script>
		<script src="../../external/jindo/latest/jindo.Component.js" charset="utf-8"></script>
		<script src="../../external/jindo/latest/jindo.Canvas.js" charset="utf-8"></script>
		<script src="../../external/qrCode/jindo.QRCode.debug.js" charset="utf-8"></script>
		<script type="text/javascript" src="../resource/js/doc.js"></script>
		<script>
			SyntaxHighlighter.config.tagName = 'textarea';
			SyntaxHighlighter.config.clipboardSwf = '../resource/syntaxhighlighter/scripts/clipboard.swf';
			SyntaxHighlighter.all();
		</script>
	</head>
	<body>
		<div class="wrap">
			<div id="header">
				<h1 class="h_h1"><a href="../index.html"><img src="../resource/img/logo_jindo.gif" width="58" height="44" alt="Jindo"/> <span class="h_tit">Mobile Component</span></a></h1>
			</div>
			<div id="container">
				<div class="snb">
					<!-- 왼쪽 메뉴 시작 -->
					{+include("menu.html")+}
					<!-- 왼쪽 메뉴 끝 -->
				</div>
				<div id="content">
					<div class="section">
						<div class="cont_lft">
							<h3 class="h_cont">{+data.alias+}</h3>
							<p class="p_txt2">
								<span>Version : {+publish.conf.version+}</span>
								<br />
								기준 엘리먼트의 자식들 중 특정 클래스명을 가진 모든 엘리먼트를  Drag 가능하게 하는 컴포넌트
							</p>
							<a href="../../sample/latest/{+data.alias+}/index.html" class="btn">Sample</a>
						</div>
						<!--QR코드 -->
						<div id='QRView' class="qr_code"></div>
					</div>
					<div class="section2">
						<!-- 설명 -->
						<h3>Description</h3>
						<div class="t1">
							기준 엘리먼트를의 자식엘리먼트 중  특정 클래스명 (drag-dragging)을 가진 엘리먼트를 사용자 터치에 따라 이동 가능하게 한다. <br>							
							
										
							<img src="../resource/img/drag.jpg">
							<br>
							[기준레이어안의 엘리먼트 구조] <br><br>
							위의 그림과 같이 기준 엘리먼트에는 드래그영역과 핸들영역을 가진 드래그 영역이 존재 할수 있다.<br><br>
							<p style="padding:0px;line-height:17px;">
								<strong>드래그영역</strong><br>
								실제로 터치 좌표를 따라 움직일 영역이다<br>
								[prefix]+'dragging' 클래스명을 갖는다.<br><br>
								
								<strong>핸들영역</strong><br>
								드래그 영역안에 있는 영역이다.(드래그 영역 밖에 있는 핸들 영역은 무시된다) <br>
								핸들 영역이 있을 경우 핸들 영역에 사용자 터치가 일어날때만 드래그 된다. <br>
								[prefix]+'handle' 클래스명을 갖는다.<br><br>
								
							</p>
							
							<h4>커스텀이벤트 발생순서</h4>
							<p>아래 그림처럼 커스텀 이벤트 발생한다</p>
							<img src="../resource/img/dragevent.jpg"><br>
							[커스텀 이벤트 발생순서] <br>
							
						</div>	
					<!--- Notice -->	
					<h3 class="notice">Notice</h3>
					<div class = "t1">
						<h4><font style="color:#e11b10;">√</font> 지원 브라우저</h4>
						<ul class="t2">
							<li>안드로이드 2.1 이상</li>
							<li>iOS 3.0 이상</li>
						</ul>
						<h4><font style="color:#e11b10;">√</font> 주의사항</h4>
						<div class="point_box">
							<p style="color:#ff0080;font-weight:bold;">드래그 중에는 기본 스크롤 기능이 비활성화 된다.</p>
							<div class="post">
								기본 스크롤이 발생될 때는 DOM 조작이 불가능 하기 때문에 엘리먼트의 위치를 바꿀 수  없기 때문에 드래그 기능이 실행 중에는 기본 스크롤 기능을 막는다.
							</div>
						</div>
						
					</div>

						<!--- Initialization -->
					<h3>Initialization</h3>
					<div class="t1">
						<dl>
							<dt>HTML</dt>
							<dd>
								<!-- 마크업 구조 -->
								<textarea class="brush: xml;">
									<!-- 기준 엘리먼트 -->
									<div id="drag">
										<div class="drag-dragging">Darg me1</div>
										<div class="drag-dragging">
											<div class="drag-handle">핸들영역</div>
											Darg me2
										</div>
									</div>
								</textarea>
								<div class="t2">
									<ul>
										<li>기준 엘리먼트를 기준으로 컴포넌트 내부에서 드래깅 엘리먼트를 찾는다</li>
										<li>드래그 대상 엘리먼트의 경우 [prefix]+'dragging' 클래스명을 갖는다.</li>
										<li>핸들 영역은 드래그 엘리먼트 내부에 있으며 [prefix]+'handle' 클래스명을 갖는다</li>
									</ul>
								</div>
							</dd>
							<dt>CSS</dt>
							<dd>
									<!-- css 구조 -->
								<textarea class="brush: css;">
									.drag-dragging {position:absolute;}
								</textarea>
								<div class="t2">
								컴포넌트 내부에서 실제로 드래깅할때 position속성을 absolute로 수정한다.
								</div>
							</dd>
							<dt>Javascript</dt>
							<dd>
								<textarea class="brush: javascript;">
									var oDrag = new jindo.m.DragArea('drag',{
										sClassPrefix : 'drag-', //class prefix
										bFlowOut : false, //기준 엘리먼트 영역 밖으로 이동 가능한지에 대한 여부
										nThreshold : 10, //dragstart를 발생시킬 움직임 임계값
										nMoveThreshold : 3, //drag를 발생시킬 움직임 임계값
										bActivateOnload : true //컴포넌트 로드시 activate 여부
									}).attach({
										'handleDown' : function(oCustomEvent){
											/* 사용자가 드래깅엘리먼트 (혹은 핸들엘리먼트)에 터치를 하였을 경우 발생 */
										},
										'dragStart' : function(oCustomEvent){
											/* nThreshold 옵션값 이상 사용자가 움직여서  드래그를 시작할 경우 발생 */
										},
										'beforeDrag' : function(oCustomEvent){
											/* 실제 엘리먼트의 위치를 이동시키기 전 발생  */
											/* 드래그가 시작된 이후 nMoveThreshold 값 이상 움직였을 때 발생한다 */
										},
										'drag' : function(oCustomEvent){
											/* 실제 엘리먼트의 위치를 이동 시킨 이후 발생  */
											/* 드래그가 시작된 이후  nMoveThreshold 값 이상 움직였을 때 발생한다 */
										},
										'dragEnd' : function(oCustomEvent){
											/* 드래그가 끝났을 경우 */
										},
										'handleUp' : function(oCustomEvent){
											/* 드래그가 끝났을 경우 */
										}
										
									});
								</textarea>
								
							</dd>
						</dl>
					</div>
					
					<!-- 초기화 옵션 -->
					<h3>Option</h3>
					<div class="t1">
						<table class="option" cellpadding="0" cellspacing="0">
							<tr>
								<th>Name</th>
								<th>Desc</th>
								<th>Default</th>
							</tr>
							<tr>
								<td class="name">sClassPrefix</td>
								<td>Class의 prefix명</td>
								<td>drag-</td>
							</tr>
							<tr>
								<td class="name">bFlowOut</td>
								<td>기준 엘리먼트 영역 밖으로 이동 드래그 가능한지  여부</td>
								<td>false</td>
							</tr>
							<tr>
								<td class="name">nThreshold</td>
								<td>최초 드래그가 시작되기 위한 최소 사용자 움직임값 (px) </td>
								<td>10</td>
							</tr>
							<tr>
								<td class="name">nMoveThreshold</td>
								<td>드래그 이벤트가 발생되는 사용자 움직임 값(px) </td>
								<td>3</td>
							</tr>
							<tr>
								<td class="name">bActivateOnload</td>
								<td>컴포넌트 로드시 activate 여부</td>
								<td>true</td>
							</tr>
						</table>
					</div>
					
					<!-- 커스텀 이벤트 -->
					<h3>Custom Event</h3>
					<div class="t1">
						<table class="customevent" cellpadding="0" cellspacing="0">
							<tr>
								<th>Name</th>
								<th>Desc</th>
								<th>Custom Event Object Properties</th>
							</tr>
							<tr class="title">
								<td class="name">hanldeDown</td>
								<td>드래그될 handle(handle 영역이 없을 경우 drag영역)에 터치 하였을 때</td>
								<td>
									<ul>
										<li>sType (String) : 커스텀이벤트명</li>
										<li>elHandle (HTMLElement) : 드래그 엘리먼트내의 핸들 영역. 없을 경우 null로 반환됨</li>
										<li>elDrag (HTMLElement) : 실제로  드래드될 엘리먼트 </li>
										<li>oEvent (Object) : jindo.$Event object </li>
										<li>stop (Function) : 드래그를 중지시킨다. 이후 모든 이벤트는 발생하지 않는다.</li>
									</ul>
								</td>
							</tr>
							<tr class="desc">
								<td>&nbsp;</td>
								<td colspan="2">
									noDrag 클래스명을 가진 엘리먼트에 대해 드래그 액션을 중지하고 싶은 경우<br>
									<textarea class="brush: javascript;">
									oDrag.attach("hanldeDown", function(oCustomEvent){
										var welDrag = jindo.$Element(oCustomEvent.elDrag);
										if(welDrag.hasClass('noDrag')){										
											//드래그 액션을 중지하고 싶을 경우.
											oCustomEvent.stop();
										}
									});
									</textarea>
								</td>
							</tr>
							<tr class="title">
								<td class="name">dragStart</td>
								<td>드래그가 시작될 때 발생(최초 한번의 드래그가 실행전)</td>
								<td>
									<ul>
										<li>sType (String) : 커스텀이벤트명</li>
										<li>elHandle (HTMLElement) : 드래그 엘리먼트내의 핸들 영역. 없을 경우 null로 반환됨</li>
										<li>elDrag (HTMLElement) : 실제로  드래드될 엘리먼트 </li>
										<li>nX (Number) : 드래그 엘리먼트가 이동될  x 좌표 (left)</li>
										<li>nY (Number) : 드래그 엘리먼트가 이동될  y 좌표 (top)</li>
										<li>nGapX (Number) : handledown된 x 좌표와 dragstart x 좌표의  차이</li>
										<li>nGapY (Number) : handledown된  y 좌표와 dragstart y 좌표의  차이 </li>
										<li>nTouchX (Number) : 현재 터치  X 좌표값</li>
										<li>nTouchY (Number) : 현재 터치  Y 좌표값 </li>
										<li>nDragCount (Number) : 실제로 drag되어 엘리먼트의 좌표를 움직인 카운트 (dragStart에서는 무조건 0)</li>
										<li>stop (Function) : 드래그를 중지시킨다.이후 모든 이벤트는 발생하지 않는다.</li>
									</ul>
								</td>
							</tr>
							<tr class="desc">
								<td>&nbsp;</td>
								<td colspan="2">
									드래깅이 시작될때 클래스명을 추가한다<br>
									<textarea class="brush: javascript;">
									oDrag.attach("dragStart", function(oCustomEvent){
										jindo.$Element(oCustomEvent.elDrag).addClass('move');
									});
									</textarea>
								</td>
							</tr>
							<tr class="title">
								<td class="name">beforeDrag</td>
								<td>드래그가 시작되고 엘리먼트가 이동되기 직전에 발생 (이동중 beforedrag, drag 순으로 연속적으로 발생)</td>
								<td>
									<ul>
										<li>sType (String) : 커스텀이벤트명</li>
										<li>elHandle (HTMLElement) : 드래그 엘리먼트내의 핸들 영역. 없을 경우 null로 반환됨</li>
										<li>elDrag (HTMLElement) : 실제로  드래드될 엘리먼트 </li>
										<li>nX (Number) : 드래그 엘리먼트가 이동될  x 좌표 (left)</li>
										<li>nY (Number) : 드래그 엘리먼트가 이동될  y 좌표 (top)</li>
										<li>nGapX (Number) : handledown된 x 좌표와 dragstart x 좌표의  차이</li>
										<li>nGapY (Number) : handledown된  y 좌표와 dragstart y 좌표의  차이 </li>
										<li>nTouchX (Number) : 현재 터치  X 좌표값</li>
										<li>nTouchY (Number) : 현재 터치  Y 좌표값 </li>
										<li>nDragCount (Number) : 실제로 drag되어 엘리먼트의 좌표를 움직인 카운트</li>
										<li>stop (Function) : drag 이벤트를 발생시키지 않고 중단.</li>
									</ul>
								</td>
							</tr>
							<tr class="desc">
								<td>&nbsp;</td>
								<td colspan="2">
									엘리먼트 드래깅시 사용자 터치좌표에 상관없이 X 좌표를 동일하게 움직이고 싶을 경우<br>
									<textarea class="brush: javascript;">
									oDrag.attach("beforeDrag", function(oCustomEvent){
										oCustomEvent.nX = 100;									
									});
									</textarea>
								</td>
							</tr>
							<tr class="title">
								<td class="name">drag</td>
								<td> 드래그 엘리먼트가 이동하는 중에 발생 (이동중 beforedrag, drag 순으로 연속적으로 발생)</td>
								<td>
									<ul>
										<li>sType (String) : 커스텀이벤트명</li>
										<li>elHandle (HTMLElement) : 드래그 엘리먼트내의 핸들 영역. 없을 경우 null로 반환됨</li>
										<li>elDrag (HTMLElement) : 실제로  드래드될 엘리먼트 </li>
										<li>nX (Number) : 드래그 엘리먼트가 이동될  x 좌표 (left)</li>
										<li>nY (Number) : 드래그 엘리먼트가 이동될  y 좌표 (top)</li>
										<li>nGapX (Number) : handledown된 x 좌표와 dragstart x 좌표의  차이</li>
										<li>nGapY (Number) : handledown된  y 좌표와 dragstart y 좌표의  차이 </li>
										<li>nTouchX (Number) : 현재 터치  X 좌표값</li>
										<li>nTouchY (Number) : 현재 터치  Y 좌표값 </li>
										<li>nDragCount (Number) : 실제로 drag되어 엘리먼트의 좌표를 움직인 카운트</li>
										<li>stop (Function) : drag 이벤트를 발생시키지 않고 중단.</li>
									</ul>
								</td>
							</tr>
							<tr class="desc">
								<td>&nbsp;</td>
								<td colspan="2">
									드래그 이후에 엘리먼트 좌표를 얻을 수 있다,<br>
									<textarea class="brush: javascript;">
									oDrag.attach("drag", function(oCustomEvent){
										//console.log(oCustomEvent.nX , oCustomEvent.nY);							
									});
									</textarea>
								</td>
							</tr>
							<tr class="title">
								<td class="name">dragEnd</td>
								<td> 드래그(엘리먼트 이동)가 완료된 후에 발생 (touchEnd 시점에 발생, 뒤이어 hanldeup발생)</td>
								<td>
									<ul>
										<li>sType (String) : 커스텀이벤트명</li>
										<li>elHandle (HTMLElement) : 드래그 엘리먼트내의 핸들 영역. 없을 경우 null로 반환됨</li>
										<li>elDrag (HTMLElement) : 실제로  드래드될 엘리먼트 </li>
										<li>nX (Number) : 드래그 엘리먼트가 이동될  x 좌표 (left)</li>
										<li>nY (Number) : 드래그 엘리먼트가 이동될  y 좌표 (top)</li>
										<li>bInterupted (Boolean) : 드래그중 stopDragging() 호출로 강제적으로 드래그가 종료되었는지의 여부</li>
										<li>stop (Function) : 이후 수행에 영향받는 이벤트 없다.</li>
									</ul>
								</td>
							</tr>
							<tr class="desc">
								<td>&nbsp;</td>
								<td colspan="2">
									드래그완료된 이후에 클래스명을 삭제한다.<br>
									<textarea class="brush: javascript;">
									oDrag.attach("dragEnd", function(oCustomEvent){
										jindo.$Element(oCustomEvent.elDrag).removeClass('move');		
									});
									</textarea>
								</td>
							</tr>
							
							<tr class="title">
								<td class="name">handleUp</td>
								<td>드래그 완료 이후 터치가 끝났을 때 발생</td>
								<td>
									<ul>
										<li>sType (String) : 커스텀이벤트명</li>
										<li>elHandle (HTMLElement) : 드래그 엘리먼트내의 핸들 영역. 없을 경우 null로 반환됨</li>
										<li>elDrag (HTMLElement) : 실제로  드래드될 엘리먼트 </li>										
										<li>stop (Function) : 이후 수행에 영향받는 이벤트 없다.</li>
									</ul>
								</td>
							</tr>
							<tr class="desc">
								<td>&nbsp;</td>
								<td colspan="2">
									<textarea class="brush: javascript;">
									oDrag.attach("hanldeUp", function(oCustomEvent){
										//~~		
									});
									</textarea>
								</td>
							</tr>
						</table>
					</div>
					
					<!-- 퍼블릭 메서드 -->
					{+include("method.html")+}
					
					<!-- 변경 히스토리 -->
					<h3>Change History</h3>
					<div class="t1">
						 <table class="option" cellpadding="0" cellspacing="0">
						 <tbody></tbody>
							 <tr>
							 	<th>Release</th>
							 	<th>Type</th>
                               	<th>Target</th>
                               	<th>Desc</th>
							 </tr>

							<!-- v1.4.0 -->
							 <tr>
							 	<td class="name">v1.4.0</td>
                               	<td>-</td>
                               	<td>-</td>
                               	<td>-</td>
							 </tr>							 
							<!-- v1.3.5 -->
							 <tr>
							 	<td class="name">v1.3.5</td>
                               	<td>-</td>
                               	<td>-</td>
                               	<td>-</td>
							 </tr>							 
							 <!-- v1.3.0 -->
							 <tr>
							 	<td class="name">v1.3.0</td>
                               	<td>-</td>
                               	<td>-</td>
                               	<td>-</td>
							 </tr>
							
							 <!-- v1.2.0 -->
							 <tr>
							 	<td class="name" rowspan="2">v1.2.0 </td>
							 	<td class="support">Support</td>	
							 	<td>-</td>
							 	<td>Chrome for Android 지원</td>
							 </tr>
							 <tr>
							 	<td class="support">Support</td>	
							 	<td>-</td>
							 	<td>갤럭시 S2 4.0.3 업데이트 지원</td>
							 </tr>
							 
							 <!-- v1.1.0 -->
							 <tr>
							 	<td class="name" rowspan="3">v1.1.0</td>
							 	<td class="support">Support</td>	
							 	<td>-</td>
							 	<td>Android 3.0/4.0 지원</td>
							 </tr>
							 <tr>
							 	<td class="support">Support</td>
							 	<td>-</td>
							 	<td>jindo 2.0.0 mobile 버전 지원 </td>
							 </tr>
							 <tr>
                               	<td>Release</td>
                               	<td>-</td>
                               <td>최초 릴리즈</td>
							 </tr>
						</tbody>
						</table>
					</div>
				</div>
			</div>
			<div id="footer">
				<address class="cr">
					{+publish.conf.copyrighc+} 
				</address>
			</div>
		</div>
	</body>
</html>