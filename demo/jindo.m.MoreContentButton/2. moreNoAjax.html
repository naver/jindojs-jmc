<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densitydpi=medium-dpi">
<title>동적컨텐츠 생성예제</title>
<meta name="class-lists" content="jindo.m.MoreContentButton">
<meta name="description" content="">
<!-- SamplePage 기본 CSS -->
<link rel="stylesheet" type="text/css" href="../asset/demo.css">
<style type="text/css">
/*@code title="CSS"*/
.u_pg,.u_pg_lod{background:#e6e7e7;background:-webkit-gradient(linear,0 0,0 100%,from(#f9f9f9),color-stop(.3,#f6f6f6),color-stop(.8,#e7eae9),to(#dde3e4));-webkit-box-shadow:inset 0 1px 0 #fefefe,inset 0 -1px 0 #d8dada}
.u_pg{display:table;position:relative;width:100%;height:45px;margin-top:-1px;border-top:1px solid #dfdfdf;border-bottom:1px solid #cecece;text-align:center}
.u_pg_btn{display:table-cell;border-right:1px solid #d3d3d3;line-height:1em}
.u_pg_area{display:table;position:relative;height:43px;margin:0 auto;padding-left:23px;background:url(../asset/img/ico_pg.gif) no-repeat 0 10px;font-size:1em}
.u_pg_wrap{display:block;position:relative}
.u_pg_lod{display:block;position:absolute;top:0;width:21px;height:43px;margin-left:-29px}
.u_pg_lodic,.u_pg_lodjs{display:inline-block;overflow:hidden;width:21px;height:22px;margin-top:11px;text-indent:-999em}
.u_pg_lodic{background:url(../asset/img/ico_lod2.gif) no-repeat 50% 50%}
.u_pg_lodjs{background:url(../asset/img/ico_lod2_ngif.png) no-repeat}
.u_pg_txt{display:table-cell;line-height:1.25em;vertical-align:middle}
.u_pg_cnt{font-size:.79em;line-height:1.25em;color:#666}
.u_pg_total{color:#a6a6a6}
.u_pg_end .u_pg_btn{background:none;background-color:#fafafa;-webkit-box-shadow:none}
.u_pg_end .u_pg_area{background:none}
.u_pg_top{display:table-cell;width:53px;padding-top:18px;border-left:1px solid #fdfdfd;background:url(../asset/img/ico_pg.gif) no-repeat 50% -53px;font-size:.8em;color:#707070;vertical-align:top}
/*code@*/
</style>

<script type="text/javascript">
	var sAgent =  navigator.userAgent;
	if (sAgent.indexOf("WebKit") < 0) {
		window.onerror = function(){
			return true;
		}
	}
</script>
<!-- 기본 스크립트 -->
<script type="text/javascript" src="../asset/jindo.js" charset="utf-8"></script>
<script type="text/javascript" src="../../src/jindo.m.js" charset="utf-8"></script>
<script type="text/javascript" src="../../src/jindo.m.Component.js" charset="utf-8"></script>
<script type="text/javascript" src="../../src/jindo.m.UIComponent.js" charset="utf-8"></script>
<script type="text/javascript" src="../asset/demojs/common.js" charset="utf-8"></script>
<!--// 기본 스크립트 끝 -->
</head>
<body>
<script type="text/javascript" src="../asset/demojs/demo.js#header"
	 data-title="Jindo Mobile Component"
	 data-subtitle="=document.title"
	 data-backbutton="true"
	 data-viewsource="true"
	 data-qrcode="true"></script>

<div id="browser_notice" class="ct" style="display:none">
	<p>※ 현재 Sample 보기에 적합하지 않은 브라우저를 사용중입니다. "크롬" 이나 "사파리" 브라우저를 이용해주시기 바랍니다.</p>
</div>

<!-- Demo 영역 -->
<div id="demo">

	<ul class="lst_type" id="cnt">
		<li><a href="#">1번째 아이템</a></li>
		<li><a href="#">2번째 아이템</a></li>
		<li><a href="#">3번째 아이템</a></li>
		<li><a href="#">4번째 아이템</a></li>
	</ul><br />

	<div class="u_pg" id="contentMore">
		<a href="#" class="u_pg_btn more_button">
			<span class="u_pg_wrap">
				<span class="u_pg_area">
					<!-- [D] 로딩이 완료되면 .u_pg_lod를 display:none 으로 감춰주세요. -->
						<span class="u_pg_lod more_loading" style="display:none">
							<span class="u_pg_lodic">로딩중..</span>
						</span>

					<span class="u_pg_txt">
						<span><span class="more_moreCnt">4</span>개 더보기</span><br/>
						<span class="u_pg_cnt"><span class='more_current'>4</span> / <span class="u_pg_total more_total"> 30</span></span>
					</span>
				</span>
			</span>
		</a>
		<span class="u_pg_btn more_last " style="display:none">
			<span class="u_pg_wrap">
				<span class="u_pg_area">
					<span class="u_pg_txt">
						<span class="u_pg_cnt"><span class='more_current'>15</span> / <span class="u_pg_total more_total"> 68</span></span>
					</span>
				</span>
			</span>
		</span>
		<a href="#" class="u_pg_top more_top">맨위로</a>
	</div>

</div>
<!--// Demo 영역 -->


<!-- Log 영역 -->
<div class="scroll">
	<button type="button" id="delConsole" class="btn_del">로그모두삭제</button>
	<textarea title="로그" id="txtConsole" class="tarea"></textarea>
</div>
<!-- Log 영역 -->


<!--@code title="HTML"
	<div class="u_pg" id="contentMore">
		<a href="#" class="u_pg_btn more_button">
			<span class="u_pg_wrap">
				<span class="u_pg_area">
					// [D] 로딩이 완료되면 .u_pg_lod를 display:none 으로 감춰주세요.
					<span class="u_pg_lod more_loading" style="display:none">
						<span class="u_pg_lodic">로딩중..</span>
					</span>

					<span class="u_pg_txt">
						<span><span class="more_moreCnt">4</span>개 더보기</span><br/>
						<span class="u_pg_cnt"><span class='more_current'>4</span> / <span class="u_pg_total more_total"> 30</span></span>
					</span>
				</span>
			</span>
		</a>
		<span class="u_pg_btn more_last " style="display:none">
			<span class="u_pg_wrap">
				<span class="u_pg_area">
					<span class="u_pg_txt">
						<span class="u_pg_cnt"><span class='more_current'>15</span> / <span class="u_pg_total more_total"> 68</span></span>
					</span>
				</span>
			</span>
		</span>
		<a href="#" class="u_pg_top more_top">맨위로</a>
	</div>
code@-->


<!-- 사용자 script 파일 시작 -->
<script type="text/javascript" src="../../src/jindo.m.CorePagination.js" charset="utf-8"></script>
<script type="text/javascript" src="../../src/jindo.m.MoreContentButton.js" charset="utf-8"></script>
<!-- 사용자 script 파일 끝 -->

<!-- Sample 실행 script 코드 -->
<script type="text/javascript">
//동적으로 컨텐츠가 추가 되어야할 엘리먼트
var welContents = jindo.$Element('cnt');
//동적으로 추가되는 엘리먼트의 마크업 템플릿
var sTpl = '<li><a href="#">{=TEXT}</a></li>';

//서버에서 전체 컨텐츠 내용을 내려주는 경우 (일반적으로 데이터가 많지 않을때 사용하는 방법입니다.)
var aData = ['1번째 아이템','2번째 아이템','3번째 아이템','4번째 아이템','5번째 아이템','6번째 아이템','7번째 아이템','8번째 아이템','9번째 아이템','10번째 아이템',
'11번째 아이템','12번째 아이템','13번째 아이템','14번째 아이템','15번째 아이템','16번째 아이템','17번째 아이템','18번째 아이템','19번째 아이템','20번째 아이템',
'21번째 아이템','22번째 아이템','23번째 아이템','24번째 아이템','25번째 아이템','26번째 아이템','27번째 아이템','28번째 아이템','29번째 아이템','30번째 아이템'
];

var oMore = new jindo.m.MoreContentButton(jindo.$('contentMore'),{
	nTotalItem : aData.length, //실제 아이템 개수
	nShowMaxItem : aData.length, //최대 더보기 하여 보여줄 개수
	nItemPerPage : 4,
	htAjax : null // null로 설정하거나 혹은 설정하지 않으시면 됩니다.
});

oMore.attach({
	'more' : function(oCustomEvt){
		var sText = oCustomEvt.sType + " → " + oCustomEvt.nPage + " 페이지  /  시작인덱스 : " + oCustomEvt.nStartIndex + ", 끝인덱스 : " +oCustomEvt.nEndIndex;
		addConsole(sText);
		//컨텐츠를 추가하는 로직
		for(var i=oCustomEvt.nStartIndex; i<=oCustomEvt.nEndIndex;i++){
			var sHtml = sTpl.replace(/{=TEXT}/, aData[i]);
			welContents.append(jindo.$(sHtml));

		}

	},
	'goTop' : function(oCustomEvt){
		var sText = oCustomEvt.sType + " → 맨위로 버튼 클릭됨";
		addConsole(sText);
	}
});


/*@code title="JavaScript"
	//더보기할 전체 데이터
	var aData = ['1번째 아이템','2번째 아이템','3번째 아이템','4번째 아이템','5번째 아이템','6번째 아이템','7번째 아이템','8번째 아이템','9번째 아이템','10번째 아이템','11번째 아이템','12번째 아이템','13번째 아이템','14번째 아이템','15번째 아이템','16번째 아이템','17번째 아이템','18번째 아이템','19번째 아이템','20번째 아이템','21번째 아이템','22번째 아이템','23번째 아이템','24번째 아이템','25번째 아이템','26번째 아이템','27번째 아이템','28번째 아이템','29번째 아이템','30번째 아이템'
	];
	var oMore = new jindo.m.MoreContentButton(jindo.$('contentMore'),{
		nTotalItem : aData.length,
		nShowMaxItem : aData.length,
		nItemPerPage : 4,
		htAjax : null
	});

	oMore.attach({
		'more' : function(oCustomEvt){
			var welContents = jindo.$Element('cnt');
			var sTpl = '<li><a href="#">{=TEXT}</a></li>';
			//컨텐츠를 추가하는 로직
			for(var i=oCustomEvt.nStartIndex; i<=oCustomEvt.nEndIndex;i++){
				var sHtml = sTpl.replace(/{=TEXT}/, aData[i]);
				welContents.append(jindo.$(sHtml));
			}
		}
	});
code@*/

</script>
<!-- // Sample 실행 script 코드 끝 -->

<script type="text/javascript" src="../asset/demojs/demo.js#footer"></script>
</body>
</html>
